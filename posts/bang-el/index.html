<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>bang.el | AlmostEducated</title>
<meta name=keywords content>
<meta name=description content="https://github.com/EducatedAlmost/bang.el
What is !Bang?   DuckDuckGo
 To learn more, try calling (bang &#34;bang&#34; &#34;&#34;)
  With which websites can I use it?   How does it work?
 It makes the call to DuckDuckGo
  Use cases   GitHub !gh
 Clojure !clj
 MemoryAlpha !ma
 Pubmed, !pm
 arXiv, !arx
  bang and Org-roam   https://www.orgroam.com/
  What is missing from !">
<meta name=author content>
<link rel=canonical href=http://blog.almost.education/posts/bang-el/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.59eee3e757258f0fe20ce07adbb2e8ad12ac4c3ef2051b72e4a88ba404dfb51a.css integrity="sha256-We7j51cljw/iDOB627LorRKsTD7yBRty5KiLpATftRo=" rel="preload stylesheet" as=style>
<link rel=preload href=img/ae-logo-trans.png as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://blog.almost.education/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://blog.almost.education/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://blog.almost.education/favicon-32x32.png>
<link rel=apple-touch-icon href=http://blog.almost.education/apple-touch-icon.png>
<link rel=mask-icon href=http://blog.almost.education/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="bang.el">
<meta property="og:description" content="https://github.com/EducatedAlmost/bang.el
What is !Bang?   DuckDuckGo
 To learn more, try calling (bang &#34;bang&#34; &#34;&#34;)
  With which websites can I use it?   How does it work?
 It makes the call to DuckDuckGo
  Use cases   GitHub !gh
 Clojure !clj
 MemoryAlpha !ma
 Pubmed, !pm
 arXiv, !arx
  bang and Org-roam   https://www.orgroam.com/
  What is missing from !">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.almost.education/posts/bang-el/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-10-22T18:15:13+01:00">
<meta property="article:modified_time" content="2021-10-22T18:15:13+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="bang.el">
<meta name=twitter:description content="https://github.com/EducatedAlmost/bang.el
What is !Bang?   DuckDuckGo
 To learn more, try calling (bang &#34;bang&#34; &#34;&#34;)
  With which websites can I use it?   How does it work?
 It makes the call to DuckDuckGo
  Use cases   GitHub !gh
 Clojure !clj
 MemoryAlpha !ma
 Pubmed, !pm
 arXiv, !arx
  bang and Org-roam   https://www.orgroam.com/
  What is missing from !">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://blog.almost.education/posts/"},{"@type":"ListItem","position":3,"name":"bang.el","item":"http://blog.almost.education/posts/bang-el/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"bang.el","name":"bang.el","description":"https://github.com/EducatedAlmost/bang.el\nWhat is !Bang?   DuckDuckGo\n To learn more, try calling (bang \u0026#34;bang\u0026#34; \u0026#34;\u0026#34;)\n  With which websites can I use it?   How does it work?\n It makes the call to DuckDuckGo\n  Use cases   GitHub !gh\n Clojure !clj\n MemoryAlpha !ma\n Pubmed, !pm\n arXiv, !arx\n  bang and Org-roam   https://www.orgroam.com/\n  What is missing from !","keywords":[],"articleBody":"  https://github.com/EducatedAlmost/bang.el\nWhat is !Bang?   DuckDuckGo\n To learn more, try calling (bang \"bang\" \"\")\n  With which websites can I use it?   How does it work?\n It makes the call to DuckDuckGo\n  Use cases   GitHub !gh\n Clojure !clj\n MemoryAlpha !ma\n Pubmed, !pm\n arXiv, !arx\n  bang and Org-roam   https://www.orgroam.com/\n  What is missing from !Bang?    illegal\n  explicit\n  overly niche\n  violate ToS\n    The code  (require 'org-roam)  (defun bang (prefix term) \"Using !Bang, search for TERM in website with corresponding PREFIX.\" (interactive (list (read-string \"Enter the !Bang prefix: \") (read-string \"Enter the term you wish to search: \" (when (use-region-p) (buffer-substring (region-beginning) (region-end)))))) (browse-url (concat \"https://duckduckgo.com/?q=!\" prefix \"+\" term)))   If there is an active region, it is used as the default TERM argument.\n(defun bang-find-prefix (website) \"Find the !Bang prefix for WEBSITE.\" (interactive \"sWebsite: \") (bang \"bang\" website))  (defun bang-roam (prefix) \"Use the node's title to search using the Bang PREFIX.\" (interactive \"sEnter the bang prefix: \") (condition-case nil (bang prefix (org-roam-node-title (org-roam-node-at-point))) (error (message \"Error: not inside an org-roam node.\"))))  (defun bang-roam-wiki () \"Use the node's title to find the corresponding Wikipedia entry.\" (interactive) (bang-roam \"w\"))  (provide 'bang)    Using the region as a default argument   Previously, the bang function took no notice of whether a region was active or not.\n(defun bang (prefix term) \"Using !Bang, search for TERM in website with corresponding PREFIX.\" (interactive \"sEnter the Bang prefix: sEnter the term you wish to search:\") (browse-url (concat \"https://duckduckgo.com/?q=!\" prefix \" \" term)))   This could be frustrating, as it might require one to carefully retype something that is already present in ones buffer. With thanks to Prof Hugo Nobrega, this function has been rewritten so that if there is an active region it will be displayed in the minibuffer when one is prompted for the term argument, allowing one to either confirm it, or enter something different.\n(interactive (list (read-string \"Enter the !Bang prefix: \") (read-string \"Enter the term you wish to search: \" (when (use-region-p) (buffer-substring (region-beginning) (region-end))))))   This also demonstrates the comprehensive form of interactive that allows one to form a generic list that is that passed as the arguments of the function.\n buffer-substring copies text from the buffer between two marks, being region-beginning and region-end.\n  ","wordCount":"363","inLanguage":"en","datePublished":"2021-10-22T18:15:13+01:00","dateModified":"2021-10-22T18:15:13+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.almost.education/posts/bang-el/"},"publisher":{"@type":"Organization","name":"AlmostEducated","logo":{"@type":"ImageObject","url":"http://blog.almost.education/favicon.ico"}}}</script>
</head>
<body class=dark id=top>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://blog.almost.education accesskey=h title="AlmostEducated (Alt + H)">
<img src=img/ae-logo-trans.png alt=logo aria-label=logo height=" 30px">AlmostEducated</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
bang.el
</h1>
<div class=post-meta>October 22, 2021
</div>
</header>
<div class=post-content>
<p>
https://github.com/EducatedAlmost/bang.el</p>
<div id=outline-container-headline-1 class=outline-2>
<h2 id=headline-1>
What is <code>!Bang</code>?
</h2>
<div id=outline-text-headline-1 class=outline-text-2>
<p>
DuckDuckGo</p>
<p>
To learn more, try calling <code>(bang "bang" "")</code></p>
</div>
</div>
<div id=outline-container-headline-2 class=outline-2>
<h2 id=headline-2>
With which websites can I use it?
</h2>
<div id=outline-text-headline-2 class=outline-text-2>
<p>
How does it work?</p>
<p>
It makes the call to DuckDuckGo</p>
</div>
</div>
<div id=outline-container-headline-3 class=outline-2>
<h2 id=headline-3>
Use cases
</h2>
<div id=outline-text-headline-3 class=outline-text-2>
<p>
GitHub <code>!gh</code></p>
<p>
Clojure <code>!clj</code></p>
<p>
MemoryAlpha <code>!ma</code></p>
<p>
Pubmed, <code>!pm</code></p>
<p>
arXiv, <code>!arx</code></p>
</div>
</div>
<div id=outline-container-headline-4 class=outline-2>
<h2 id=headline-4>
<code>bang</code> and Org-roam
</h2>
<div id=outline-text-headline-4 class=outline-text-2>
<p>
https://www.orgroam.com/</p>
</div>
</div>
<div id=outline-container-headline-5 class=outline-2>
<h2 id=headline-5>
What is missing from !Bang?
</h2>
<div id=outline-text-headline-5 class=outline-text-2>
<ul>
<li>
<p>illegal</p>
</li>
<li>
<p>explicit</p>
</li>
<li>
<p>overly niche</p>
</li>
<li>
<p>violate ToS</p>
</li>
</ul>
</div>
</div>
<div id=outline-container-headline-6 class=outline-2>
<h2 id=headline-6>
The code
</h2>
<div id=outline-text-headline-6 class=outline-text-2>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(require <span style=color:#e6db74>&#39;org-roam</span>)</code></pre></div>
</div>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(defun bang (prefix term)
  <span style=color:#e6db74>&#34;Using !Bang, search for TERM in website with corresponding PREFIX.&#34;</span>
  (interactive
   (<span style=color:#a6e22e>list</span> (<span style=color:#a6e22e>read-string</span> <span style=color:#e6db74>&#34;Enter the !Bang prefix: &#34;</span>)
         (<span style=color:#a6e22e>read-string</span> <span style=color:#e6db74>&#34;Enter the term you wish to search: &#34;</span>
                      (when (use-region-p)
                        (<span style=color:#a6e22e>buffer-substring</span> (<span style=color:#a6e22e>region-beginning</span>) (<span style=color:#a6e22e>region-end</span>))))))
  (browse-url (<span style=color:#a6e22e>concat</span> <span style=color:#e6db74>&#34;https://duckduckgo.com/?q=!&#34;</span> prefix <span style=color:#e6db74>&#34;+&#34;</span> term)))</code></pre></div>
</div>
<p>
If there is an active region, it is used as the default TERM argument.</p>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(defun bang-find-prefix (website)
  <span style=color:#e6db74>&#34;Find the !Bang prefix for WEBSITE.&#34;</span>
  (interactive <span style=color:#e6db74>&#34;sWebsite: &#34;</span>)
  (bang <span style=color:#e6db74>&#34;bang&#34;</span> website))</code></pre></div>
</div>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(defun bang-roam (prefix)
  <span style=color:#e6db74>&#34;Use the node&#39;s title to search using the Bang PREFIX.&#34;</span>
  (interactive <span style=color:#e6db74>&#34;sEnter the bang prefix: &#34;</span>)
  (condition-case <span style=color:#66d9ef>nil</span>
      (bang prefix
            (org-roam-node-title
             (org-roam-node-at-point)))
    (<span style=color:#a6e22e>error</span> (<span style=color:#a6e22e>message</span> <span style=color:#e6db74>&#34;Error: not inside an org-roam node.&#34;</span>))))</code></pre></div>
</div>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(defun bang-roam-wiki ()
  <span style=color:#e6db74>&#34;Use the node&#39;s title to find the corresponding Wikipedia entry.&#34;</span>
  (interactive)
  (bang-roam <span style=color:#e6db74>&#34;w&#34;</span>))</code></pre></div>
</div>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(provide <span style=color:#e6db74>&#39;bang</span>)</code></pre></div>
</div>
</div>
</div>
<div id=outline-container-headline-7 class=outline-2>
<h2 id=headline-7>
Using the region as a default argument
</h2>
<div id=outline-text-headline-7 class=outline-text-2>
<p>
Previously, the <code>bang</code> function took no notice of whether a region was active or not.</p>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(defun bang (prefix term)
  <span style=color:#e6db74>&#34;Using !Bang, search for TERM in website with corresponding PREFIX.&#34;</span>
  (interactive
   <span style=color:#e6db74>&#34;sEnter the Bang prefix:
</span><span style=color:#e6db74>sEnter the term you wish to search:&#34;</span>)
  (browse-url (<span style=color:#a6e22e>concat</span> <span style=color:#e6db74>&#34;https://duckduckgo.com/?q=!&#34;</span> prefix <span style=color:#e6db74>&#34; &#34;</span> term)))</code></pre></div>
</div>
<p>
This could be frustrating, as it might require one to carefully retype something that is already present in ones buffer. With thanks to Prof Hugo Nobrega, this function has been rewritten so that if there is an active region it will be displayed in the minibuffer when one is prompted for the <code>term</code> argument, allowing one to either confirm it, or enter something different.</p>
<div class="src src-elisp">
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elisp data-lang=elisp>(interactive
   (<span style=color:#a6e22e>list</span> (<span style=color:#a6e22e>read-string</span> <span style=color:#e6db74>&#34;Enter the !Bang prefix: &#34;</span>)
         (<span style=color:#a6e22e>read-string</span> <span style=color:#e6db74>&#34;Enter the term you wish to search: &#34;</span>
                      (when (use-region-p)
                        (<span style=color:#a6e22e>buffer-substring</span> (<span style=color:#a6e22e>region-beginning</span>) (<span style=color:#a6e22e>region-end</span>))))))</code></pre></div>
</div>
<p>
This also demonstrates the comprehensive form of <code>interactive</code> that allows one to form a generic list that is that passed as the arguments of the function.</p>
<p>
<code>buffer-substring</code> copies text from the buffer between two marks, being <code>region-beginning</code> and <code>region-end</code>.</p>
</div>
</div>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=http://blog.almost.education>AlmostEducated</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>